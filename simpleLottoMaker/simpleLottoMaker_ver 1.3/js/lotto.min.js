(function($){$.fn.lottoMake=function(){this.each(function(index){var lotto=new Lotto();console.log("$.fn.lottoMake plugin 호출 완료!")});return this}})(jQuery);function Lotto(){this.$make=null;this.$reset=null;this.$makedArea=null;this.$input=null;this.$comment=null;this.currentIndex=0;this.lottoNumber=0;this.timerID=-1;this.$time=null;this.result=0;this.$banners=null;this.$bannerLength=null;this.init();this.initBannerPos();this.startAutoPlay();this.showTime();this.initEvent()};Lotto.prototype.init=function(){this.$make=$("#make");this.$reset=$("#reset");this.$input=$("#input");this.$makedArea=$(".makedArea");this.$comment=$(".comment");this.$banners=$("#banner1 img");this.$bannerLength=this.$banners.length;this.$time=$(".time")};Lotto.prototype.initBannerPos=function(){this.$banners.css({left:400});this.$banners.eq(this.currentIndex).css({left:0})};Lotto.prototype.startAutoPlay=function(){var objThis=this;if(this.timerID==-1){this.timerID=setInterval(function(){objThis.nextBanner()},2000)}};Lotto.prototype.showTime=function(){var objThis=this;var objDate=new Date();var calendar=objDate.getFullYear()+"-"+addZero(objDate.getMonth()+1)+"-"+addZero(objDate.getDate());var amPm='<span style = "color:#0100FF;">'+"AM"+'</span>';var hours=addZero(objDate.getHours());var minutes=addZero(objDate.getMinutes());var seconds=addZero(objDate.getSeconds());if(hours>=12){amPm='<span style = "color:#5CD1E5;">'+"PM"+'</span>';hours=addZero(hours-12)};if(seconds>=50){seconds='<span style = "color:#de1951;">'+seconds+'</span>'};var fullTime=calendar+"&nbsp;"+hours+":"+minutes+":"+seconds+"&nbsp;"+amPm;console.log("fullTime: "+fullTime);this.$time.html("currentTime: "+fullTime);function addZero(value){if(value<10){value="0"+value};return value};setTimeout(function(){objThis.showTime()},1000)};Lotto.prototype.stopAutoPlay=function(){clearInterval(this.timerID);this.timerID=-1};Lotto.prototype.initEvent=function(){var objThis=this;objThis.validateClick();this.$make.click(function(){objThis.displayLotto();objThis.$comment.html("Good Luck to You(images source: google)")});this.$banners.mouseenter(function(){console.log("mouseenter → stopAutoPlay()");objThis.stopAutoPlay()});this.$banners.mouseleave(function(){console.log("mouseleave → startAutoPlay()");objThis.startAutoPlay()});this.$reset.click(function(){objThis.resetLottoArea()})};Lotto.prototype.displayLotto=function(){var $input=$("#input").val();$input=parseInt($input)+1;for(var i=1;i<$input;i++){this.$makedArea.append("<p>"+i+"번 째 로또 번호는 "+"[ "+this.makeLotto()+" ]"+"입니다."+"</p>")}};Lotto.prototype.validateClick=function(){this.$make.click(function(){var inputValue=$("#input").val();if(inputValue==""||inputValue==null){alert("Number is a required input value.");return false}});this.validateKeyup()};Lotto.prototype.validateKeyup=function(){this.$input.on("keyup",function(){var inputValue=$(this).val();var regText=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣a-zA-Z|~!@#$%^&*()_+|<>?:{}/.,'\']/;if(regText.test(inputValue)){alert("Please enter only the number.");$(this).val("")}else{return}})};Lotto.prototype.makeLotto=function(){this.lottoNumber=new Array(6);for(var i=0;i<=5;i++){this.lottoNumber[i]=Math.floor(Math.random()*45)+1;for(var j=0;j<i;j++){if(this.lottoNumber[i]==this.lottoNumber[j]){i--;break}}};result=this.lottoNumber.sort(function(a,b){return a-b});console.log("lottoNumber = "+result);return result;this.$comment.html("Good Luck to You")};Lotto.prototype.resetLottoArea=function(){alert("Initialize the number.");this.$comment.html("Please draw the lottoNumber of this week.");this.$makedArea.html("");$("#input").val("")};Lotto.prototype.stopImage=function(){clearInterval(this.timerID)};Lotto.prototype.nextBanner=function(){var currentIndex=this.currentIndex;this.currentIndex++;if(this.currentIndex>=this.$bannerLength){this.currentIndex=0};var $currentBanner=this.$banners.eq(currentIndex);var $nextBanner=this.$banners.eq(this.currentIndex);$nextBanner.css({left:200,opacity:0});$currentBanner.stop().animate({left:-200,opacity:0},500,"easeInCubic");$nextBanner.stop().animate({left:0,opacity:1},500,"easeInCubic")};